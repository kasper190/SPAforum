<div class="row">
  <h2 class="text-center">Change Password</h2>
  <div class="col-xs-12 col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4 col-lg-4 col-lg-offset-4">
    <div class='alert alert-danger' ng-show='!tokenExists'>
      You are not logged in. You can do that <a ng-href="/login" class="text-danger"><strong>here</strong></a>.
    </div>
    <div class="panel panel-default" ng-show='tokenExists'>
      <div class="panel-body">
        <form role="form" ng-submit='doPasswordChange(user)'>
          <div class='alert alert-danger' ng-show='passwordChangeError.non_field_errors'>
                <span ng-repeat='error in passwordChangeError.non_field_errors'>
                    {{ error }} <br/>
                </span>
              </div>
          <div class="form-group" ng-class="{'has-error': passwordChangeError.password }">
            <label for="password" class="sr-only">Password</label>
            <div class="input-group">
              <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
              <input type="password" ng-model='user.password' class="form-control" id="password" placeholder="Password">
            </div>
            <label class="control-label" for="password" ng-if='passwordChangeError.password'>
              <span ng-repeat='error in passwordChangeError.password'>{{ error }}<br/></span>
            </label>
          </div>
           <div class="form-group" ng-class="{'has-error': passwordChangeError.password1 }">
            <label for="password" class="sr-only">New Password</label>
            <div class="input-group">
              <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
              <input type="password" ng-model='user.password1' class="form-control" id="password1" placeholder="New Password">
            </div>
            <label class="control-label" for="password1" ng-if='passwordChangeError.password1'>
              <span ng-repeat='error in passwordChangeError.password1'>{{ error }}<br/></span>
            </label>
          </div>
           <div class="form-group" ng-class="{'has-error': passwordChangeError.password2 }">
            <label for="password" class="sr-only">Confirm New Password</label>
            <div class="input-group">
              <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
              <input type="password" ng-model='user.password2' class="form-control" id="password2" placeholder="Confirm New Password">
            </div>
            <label class="control-label" for="password2" ng-if='passwordChangeError.password2'>
              <span ng-repeat='error in passwordChangeError.password2'>{{ error }}<br/></span>
            </label>
          </div>
          <input type="submit" value='Change' class="btn btn-success btn-sm" />
        </form>
      </div>
    </div>
  </div>
</div>